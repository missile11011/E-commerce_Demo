{"version":3,"sources":["logo.svg","utils/actions.js","utils/queries.js","components/CartItem/index.js","utils/auth.js","components/Nav/index.js","components/Main/index.js","components/ProductItem/index.js","components/Products/index.js","pages/Home.js","utils/mutations.js","pages/Login.js","pages/Signup.js","components/Footer/index.js","pages/Account.js","pages/Product.js","pages/Cart.js","components/CheckoutForm/index.js","components/Address/index.js","components/ShippingForm/index.js","pages/Checkout.js","utils/reducers.js","utils/store.js","utils/Globalstate.js","App.js","serviceWorker.js","index.js"],"names":["UPDATE_PRODUCTS","UPDATE_PRODUCT","UPDATE_AMOUNT","ADD_TO_CART","UPDATE_CART","TOGGLE_CART","QUERY_USER","gql","QUERY_PRODUCTS","QUERY_PRODUCT","CartItem","item","useDispatch","useSelector","state","class","src","image","name","price","purchaseQuantity","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","NavigationBar","dispatch","cart","cartOpen","useQuery","data","loading","toggleCart","type","cartTotal","total","map","toFixed","emptyCart","Object","keys","length","Navbar","variant","className","Container","fluid","Brand","as","Link","to","Form","inline","Row","Group","Control","placeholder","Auth","loggedIn","user","Dropdown","Toggle","id","firstName","Menu","Item","href","Divider","onClick","logout","account","cartItems","Main","ProductItem","_id","quantity","itemChecker","find","cartItem","parseInt","product","Products","products","useEffect","console","log","Home","Jumbotron","LOGIN","CREATEUSER","Login","useState","email","password","formState","setFormState","useMutation","login","error","handelSubmit","event","a","preventDefault","variables","response","handelChange","target","value","onSubmit","for","required","onChange","Signup","lastName","validPassword","confirmPassword","createUser","NavFooter","title","Account","Col","md","userdata","Product","match","params","amount","description","Cart","shippingCost","parseFloat","subTotal","CheckoutForm","stripe","useStripe","elements","useElements","message","setMessage","isLoading","setIsLoading","clientSecret","URLSearchParams","search","get","retrievePaymentIntent","then","paymentIntent","status","handleSubmit","e","confirmPayment","confirmParams","return_url","disabled","role","Address","selected","ShippingForm","stripePromise","loadStripe","Checkout","setClientSecret","setTotal","stage","setStage","sum","fetch","method","headers","body","JSON","stringify","res","json","options","appearance","theme","initialState","reducer","action","createStore","reducers","StoreProvider","props","useReducer","store","httpLink","createHttpLink","uri","authLink","setContext","_","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","Footer","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","origin","addEventListener","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6c6daedb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\r\nexport const UPDATE_PRODUCT = \"UPDATE_PRODUCT\";\r\nexport const UPDATE_AMOUNT = \"UPDATE_AMOUNT\";\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const UPDATE_CART = \"UPDATE_CART\";\r\nexport const TOGGLE_CART = \"TOGGLE_CART\";\r\nexport const QUERY_CHECKOUT = \"QUERY_CHECKOUT\"","import { gql } from \"@apollo/client\";\r\n\r\nexport const QUERY_USER = gql`\r\n\t{\r\n\t\tuser {\r\n\t\t\tfirstName\r\n\t\t\tlastName\r\n\t\t\temail\r\n\t\t\torders {\r\n\t\t\t\t_id\r\n\t\t\t\tpurchaseDate\r\n\t\t\t\tproducts {\r\n\t\t\t\t\t_id\r\n\t\t\t\t\tname\r\n\t\t\t\t\tdescription\r\n\t\t\t\t\tprice\r\n\t\t\t\t\tquantity\r\n\t\t\t\t\timage\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\nexport const QUERY_PRODUCTS = gql`\r\n\t{\r\n\t\tproducts {\r\n\t\t\t_id\r\n\t\t\tname\r\n\t\t\tdescription\r\n\t\t\tprice\r\n\t\t\tquantity\r\n\t\t\timage\r\n\t\t}\r\n\t}\r\n`;\r\nexport const QUERY_PRODUCT = gql`\r\n\tquery Product($product: String!) {\r\n\t\tproduct(_id: $product) {\r\n\t\t\t_id\r\n\t\t\tname\r\n\t\t\tdescription\r\n\t\t\tprice\r\n\t\t\timage\r\n\t\t\tquantity\r\n\t\t}\r\n\t}\r\n`;\r\nexport const QUERY_CHECKOUT = gql`\r\n\tquery getCheckout($products: [ID]!) {\r\n\t\tcheckout(products: $products) {\r\n\t\t\tsession\r\n\t\t}\r\n\t}\r\n`;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport \"./index.css\"\r\n\r\nconst CartItem = ({item}) => {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector(state => state)\r\n    return(\r\n        <div class=\"py-3\">\r\n            <div class=\"row justify-content-evenly py-3 cart-item-shadow\">\r\n                <img class=\"img-thumbnail h-100 col-3 mx-2 my-auto\" src={item.image}></img>\r\n                <p class=\"col-4\">{item.name}</p>\r\n                <p class=\"col-2\">${item.price}</p>\r\n                <p class=\"col-2\">QTY:{item.purchaseQuantity}</p>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartItem;","import decode from \"jwt-decode\";\r\n\r\nclass AuthService {\r\n\tgetProfile() {\r\n\t\treturn decode(this.getToken());\r\n\t}\r\n\r\n\tloggedIn() {\r\n\t\tconst token = this.getToken();\r\n\t\treturn !!token && !this.isTokenExpired(token);\r\n\t}\r\n\r\n\tisTokenExpired(token) {\r\n\t\ttry {\r\n\t\t\tconst decoded = decode(token);\r\n\t\t\tif (decoded.exp < Date.now() / 1000) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else return false;\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tgetToken() {\r\n\t\treturn localStorage.getItem(\"id_token\");\r\n\t}\r\n\r\n\tlogin(idToken) {\r\n\t\tlocalStorage.setItem(\"id_token\", idToken);\r\n\t\twindow.location.assign(\"/\");\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tlocalStorage.removeItem(\"id_token\");\r\n\t\twindow.location.assign(\"/\");\r\n\t}\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Navbar, Container, Form, Row, Dropdown} from \"react-bootstrap\";\r\nimport { useQuery } from '@apollo/client';\r\nimport { TOGGLE_CART } from '../../utils/actions';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { QUERY_USER } from \"../../utils/queries\";\r\nimport CartItem from \"../CartItem\"\r\nimport Auth from \"../../utils/auth\";\r\nimport \"./index.css\";\r\n\r\nconst NavigationBar = () => {\r\n\t// set modal display state\r\n\tconst dispatch = useDispatch();\r\n\tconst state = useSelector(state => state)\r\n\tconst { cart, cartOpen } = state\r\n\tconst { loading, data } = useQuery(QUERY_USER);\r\n\r\n\tconst toggleCart = () =>{\r\n\t\tdispatch({\r\n\t\t\ttype: TOGGLE_CART})\r\n\t}\r\n\tconst cartTotal = () => {\r\n\t\tlet total = 0;\r\n\t\tcart.map((item) => {\r\n\t\t\ttotal += item.price * item.purchaseQuantity\r\n\t\t})\r\n\t\treturn total.toFixed(2)\r\n\t}\r\n\tconst emptyCart =() => {\r\n\t\tif (Object.keys(cart).length === 0){\r\n\t\t\treturn(<h1 class=\"text-center\">Empty</h1>)\r\n\t\t}\r\n\t}\r\n\tconst shopingcart = () => {\r\n\t\tif (cartOpen) {\r\n\t\t\treturn(\r\n\t\t\t<>\r\n\t\t\t\t<a onClick={toggleCart}>\r\n\t\t\t\t\t<i class=\"text-white bi bi-bag-x bag-icon\" ></i>\r\n\t\t\t\t</a>\t\r\n\t\t\t</>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<> \r\n\t\t\t\t<a class=\"\" href=\"#\" onClick={toggleCart}>\r\n\t\t\t\t\t<i class=\"bi bi-bag-fill bag-icon my-auto \"></i>\r\n\t\t\t\t\t<span class=\"text-dark text-center cart-items align-text-bottom\">{cart.length}</span>\r\n\t\t\t\t</a>\t\r\n\t\t\t</>\r\n\t\t\t)\r\n\t}\r\n\tconst cartItems = () => {\r\n\t\tif (cartOpen) {\t\r\n\t\t\treturn(\r\n\t\t\t\t<div class=\"col-5 cart-menu bg-light p-3 rounded border\">\r\n\t\t\t\t\t<a class=\"row justify-content-end px-4 py-auto\" onClick={toggleCart}>\r\n\t\t\t\t\t\t<i class=\" bi-x-circle-fill text-danger\"></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"cart-list overflow-scroll col\">\r\n\t\t\t\t\t\t{cart.map((item) =>{\r\n\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t<CartItem key={item.id} item={item}/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{emptyCart()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2>Total: ${cartTotal()}</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Link to=\"/cart\">\r\n\t\t\t\t\t\t<button class=\"btn rounded-pill btn-primary\">Checkout</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\tconst account = () => {\r\n\t\tif (Auth.loggedIn()) {\r\n\t\t\tlet user;\r\n\t\t\tif (data){\r\n\t\t\t\tuser = data.user\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Dropdown className=\"m-3\">\r\n\t\t\t\t\t\t<Dropdown.Toggle variant=\"primary\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\tHello, {user.firstName}\r\n\t\t\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t\t\t<Dropdown.Menu class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n\t\t\t\t\t\t\t<Link to=\"/account\">\r\n\t\t\t\t\t\t\t\t<a class=\"dropdown-item\">Account</a>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Dropdown.Item class=\"dropdown-item\" href=\"#\">Order History</Dropdown.Item>\r\n\t\t\t\t\t\t\t<Dropdown.Divider/>\r\n\t\t\t\t\t\t\t<Dropdown.Item class=\"dropdown-item\" onClick={()=> Auth.logout()}>Logout</Dropdown.Item>\r\n\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t<button class=\" m-3 inline btn btn-primary\">Login</button>\r\n\t\t\t\t</Link>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar variant=\"light\" className=\"py-0 bg-black\" >\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<Navbar.Brand className=\"text-white\" as={Link} to=\"/\">\r\n\t\t\t\t\t\tDemo\r\n\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t<div class=\"row inline\">\r\n\t\t\t\t\t\t<Form inline as={Row}>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Control  type=\"search\" placeholder=\"search\"/>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<button class=\"px-3 m-2 btn btn-outline-success\" variant=\"outline-success\" type=\"submit\">Search</button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t{account()}\r\n\t\t\t\t\t\t{shopingcart()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t\t{cartItems()}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default NavigationBar;\r\n","import React from \"react\";\r\nimport {} from \"react-bootstrap\"\r\n\r\nconst Main = () => {\r\n    return(\r\n        <div>\r\n            <h1 class=\"align-center text-center py-5\">Hello</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./index.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector} from \"react-redux\";\r\nimport { ADD_TO_CART, UPDATE_CART } from \"../../utils/actions\";\r\n\r\nconst ProductItem = (item) => {\r\n    const {_id, name, price, quantity, image} = item;\r\n    const dispatch = useDispatch();\r\n    const state = useSelector(state => state);\r\n    const { cart } = state;\r\n\r\n    const addToCart = () => {\r\n        const itemChecker = cart.find((cartItem) => cartItem._id === _id)\r\n        if (itemChecker) {\r\n            dispatch({\r\n                type: UPDATE_CART,\r\n                _id: _id,\r\n                purchaseQuantity: parseInt(itemChecker.purchaseQuantity) + 1\r\n            }) \r\n        }\r\n        else {\r\n            dispatch({\r\n                type: ADD_TO_CART,\r\n                product: {...item, purchaseQuantity: 1}\r\n            }) \r\n        }\r\n    }\r\n    return(\r\n        <div class=\"item-container col text-center my-3\">\r\n            <Link to={`/item/${_id}`}>\r\n                <div class=\"text-dark text-center mb-1\">\r\n                    <div class=\"item-image-container\">\r\n                        <img class=\"img-fluid item-image p-3\" src={image}/>\r\n                    </div>\r\n                    <p class=\"font-weight-bold item-title align-text-bottom overflow-hidden px-1\">\r\n                        {name}\r\n                    </p>\r\n                    <span class=\"item-price\">\r\n                        ${price}\r\n                    </span>\r\n                    <br></br>\r\n                    \r\n                </div>\r\n            </Link>\r\n            <button class=\"btn btn-primary rounded-pill\" onClick={addToCart}>\r\n                Add to Cart\r\n            </button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProductItem;","import React, {useEffect} from 'react';\r\nimport {Link} from 'react-router';\r\nimport ProductItem from \"../ProductItem\"\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { QUERY_PRODUCTS} from \"../../utils/queries\"\r\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst Products = () => {\r\n    const dispatch = useDispatch();\r\n    const state = useSelector(state => state)\r\n    const { loading, data} = useQuery(QUERY_PRODUCTS);\r\n    const { products } = state\r\n    \r\n    useEffect(() => {\r\n        if (data) {\r\n            dispatch({\r\n                type: UPDATE_PRODUCTS,\r\n                products: data.products,\r\n            })\r\n            console.log(\"data\",data)\r\n        }\r\n        else if (loading) {\r\n            console.log(\"loading\",loading)\r\n        }\r\n        \r\n    },[data, dispatch])\r\n    // const filterProducts = () =>{\r\n        \r\n    //     return state\r\n    // }\r\n    function productFilter(){\r\n        if(!products){\r\n            return state.products\r\n        }\r\n        return state.products\r\n    }\r\n    return (\r\n\t\t<div>\r\n            <div class=\"container\">\r\n                <div class=\"row align-items-center\">\r\n                    {productFilter().map((product) => (\r\n                        <div class=\"col-3 \">\r\n                        <ProductItem\r\n                            key={product._id}\r\n                            _id={product._id}\r\n                            name={product.name}\r\n                            price={product.price}\r\n                            quantity={product.quantity}\r\n                            image={product.image}\r\n                        />\r\n                        </div>\r\n                    ))}\r\n                </div>    \r\n            </div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Products;","import React from 'react';\r\nimport Main from '../components/Main'\r\nimport { Jumbotron, Container,Image } from 'react-bootstrap';\r\nimport Products from \"../components/Products\"\r\n\r\nconst Home = () =>{\r\n    return(\r\n        <>\r\n            <Main/>\r\n            <Jumbotron fluid className='bg-white'>\r\n                <Container>\r\n                    <Products/>\r\n                </Container>\r\n            </Jumbotron>\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home;","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN = gql`\r\n\tmutation login($email: String!, $password: String!) {\r\n\t\tlogin(email: $email, password: $password) {\r\n\t\t\ttoken\r\n\t\t\tuser {\r\n\t\t\t\t_id\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\nexport const CREATEUSER = gql`\r\n\tmutation createUser($email: String!, $password: String!, $firstName: String!, $lastName: String!){\r\n\t\tcreateUser(email: $email, password: $password, firstName: $firstName, lastName: $lastName){\r\n\t\t\ttoken\r\n\t\t\tuser{\r\n\t\t\t\t_id\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`;\r\n","import React, {useState} from \"react\";\r\nimport {Form, Button} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useMutation} from \"@apollo/client\";\r\nimport Auth from \"../utils/auth\";\r\nimport {LOGIN} from \"../utils/mutations\";\r\n\r\nconst Login = () => {\r\n\tconst [formState, setFormState] = useState({email: \"\", password: \"\"});\r\n\tconst [login, {error}] = useMutation(LOGIN);\r\n\r\n\tconst handelSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n        console.log(formState.email, formState.password)\r\n\t\ttry {\r\n\t\t\tconst response = await login({\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\temail: formState.email,\r\n\t\t\t\t\tpassword: formState.password,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst token = response.data.login.token;\r\n\t\t\tAuth.login(token);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handelChange = async (event) => {\r\n\t\tconst {name, value} = event.target;\r\n\t\tconsole.log(name, value)\r\n\t\tsetFormState({...formState, [name]: value});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"col-6 mx-auto py-4\">\r\n\t\t\t<div class=\"border bg-light rounded rounded-3 p-4\">\r\n\t\t\t\t<h1 class=\"text-center\">Login</h1>\r\n\t\t\t\t<form onSubmit={handelSubmit}>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col mb-3\">\r\n\t\t\t\t\t\t\t<label for=\"email\" className=\"form-label\">\r\n\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"example@email.com\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handelChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col mb-3\">\r\n\t\t\t\t\t\t\t<label for=\"password\" className=\"form-label\">\r\n\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={handelChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n                    <div className=\"text-center\">\r\n                        <button className=\"btn btn-primary\" type=\"submit\">\r\n                            Login\r\n                        </button>\r\n                    </div>\r\n                    {error ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p class=\"\">make sure all fields are required</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</form>\r\n\t\t\t\t<Link to=\"/signup\">\r\n\t\t\t\t\t<a class=\"d-flex justify-content-center p-3\">\r\n\t\t\t\t\t\tCreate an account and sign up\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Login;\r\n","import React, {useState} from \"react\";\r\nimport {Form, Button, Row, Col} from \"react-bootstrap\";\r\nimport {useMutation} from \"@apollo/client\";\r\nimport Auth from \"../utils/auth\";\r\nimport {CREATEUSER} from \"../utils/mutations\";\r\n\r\nconst Signup = () => {\r\n\tconst [formState, setFormState] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tfirstName: \"\",\r\n\t\tlastName: \"\",\r\n    validPassword: \"\",\r\n    confirmPassword: \"\"\r\n\t});\r\n\tconst [createUser, {error}] = useMutation(CREATEUSER);\r\n\r\n\tconst handelSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (formState.password === formState.confirmPassword) {\r\n\t\t\tsetFormState({...formState, validPassword: formState.password});\r\n\t\t}\r\n    else{\r\n      setFormState({...formState})\r\n    }\r\n\t\ttry {\r\n\t\tconst response = await createUser({\r\n\t\t\tvariables: {\r\n\t\t\t\temail: formState.email,\r\n\t\t\t\tpassword: formState.validPassword,\r\n\t\t\t\tfirstName: formState.firstName,\r\n\t\t\t\tlastName: formState.lastName,\r\n\t\t\t},\r\n\t\t});\r\n\t\tconst token = response.data.createUser.token;\r\n\t\tAuth.login(token);\r\n\t\t} catch (e){\r\n      console.log(e)\r\n\t\t}\r\n\t};\r\n\r\n\tconst handelChange = (event) => {\r\n\t\tconst {name, value} = event.target;\r\n\t\tconsole.log(name, value)\r\n\t\tsetFormState({...formState, [name]: value});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div class=\"col-6 mx-auto py-4\">\r\n\t\t\t<div class=\"border bg-light rounded rounded-3 p-4\">\r\n\t\t\t\t<h1 class=\"text-center\">Signup</h1>\r\n\t\t\t\t<form onSubmit={handelSubmit}>\r\n          <div className=\"row\">\r\n            <div class=\"col mb-3\">\r\n              <label for=\"firstName\" class=\"form-label\">\r\n                First name\r\n              </label>\r\n              <input\r\n                type=\"firstName\"\r\n                name=\"firstName\"\r\n                class=\"form-control\"\r\n                id=\"firstName\"\r\n                placeholder=\"Mark\"\r\n                required\r\n                onChange={handelChange}\r\n              />\r\n            </div>\r\n            <div class=\"col mb-3\">\r\n              <label for=\"lastName\" class=\"form-label\">\r\n                Last name\r\n              </label>\r\n              <input\r\n                type=\"lastName\"\r\n                name=\"lastName\"\r\n                class=\"form-control\"\r\n                id=\"lastName\"\r\n                placeholder=\"Otto\"\r\n                required\r\n                onChange={handelChange}\r\n              />\r\n            </div>\r\n          </div>\r\n\t\t\t\t\t<div className=\"row\">\r\n            <div class=\"col mb-3\">\r\n              <label for=\"email\" class=\"form-label\">\r\n                Email\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                class=\"form-control\"\r\n                id=\"email\"\r\n                required\r\n                onChange={handelChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col mb-3\">\r\n              <label for=\"password\" className=\"form-label\">\r\n                Password:\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                required\r\n                onChange={handelChange}\r\n                />\r\n\r\n\r\n            </div>\r\n          </div>\r\n\t\t\t\t\t<div className=\"row\">\r\n            <div className=\"col mb-3\">\r\n              <label for=\"confirmPassword\" className=\"form-label\">\r\n                Confirm Password:\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                id=\"confrimPassword\"\r\n                required\r\n                onChange={handelChange}\r\n                />\r\n\r\n            </div>\r\n          </div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"text-center\">\r\n\t\t\t\t\t\t<button class=\"btn btn-primary\" type=\"submit\">\r\n\t\t\t\t\t\t\tSubmit form\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{error ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p class=\"\">make sure all fields are required</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\n\r\nconst NavFooter = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container fluid className=\"bg-dark\">\r\n                <Row>\r\n                    <div class=\"col-6 col-md-8 col-lg-7\">\r\n                        <div class=\"row text-center m-auto\">\r\n                            <div class=\"col-sm-6 col-md-4 col-lg-4 col-12 py-4\">\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"col-sm-6 col-md-4 col-lg-4 col-12 py-4\">\r\n                                <ul class=\"list-unstyled\">\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                    <li class=\"btn-link\"> <a>Link anchor</a> </li>\r\n                                </ul>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 col-lg-5 col-6 py-4\">\r\n                        <address class=\"text-white\">\r\n                            <strong>MyStoreFront, Inc.</strong><br></br>\r\n                            Indian Treasure Link<br></br>\r\n                            Quitman, WA, 99110-0219<br></br>\r\n                            <abbr title=\"Phone\">P:</abbr> (123) 456-7890\r\n                        </address>\r\n                        <address  class=\"text-white\">\r\n                            <strong>Full Name</strong><br></br>\r\n                            <a href=\"mailto:#\">first.last@example.com</a>\r\n                        </address>\r\n                    </div>\r\n                </Row>\r\n                <Row>\r\n                    <p class=\"text-white m-auto p-2\" >\r\n                        Â©2021 copyrihgt\r\n                    </p>\r\n                </Row>\r\n            </Container>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default NavFooter;\r\n","import React, {useState} from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_USER } from \"../utils/queries\";\r\nimport {Col, Row} from \"react-bootstrap\";\r\nimport{ Link }from \"react-router-dom\";\r\n\r\nconst Account =() => {\r\n    const {loading, error, data} = useQuery(QUERY_USER)\r\n    let user;\r\n    \r\n    const userdata = () => {\r\n        if (data){\r\n            user = data.user\r\n            return (\r\n                <div class=\"\">\r\n                    <h4>\r\n                        Name: {user.firstName} {user.lastName}\r\n                    </h4>\r\n                    <h4>\r\n                        Email: {user.email}\r\n                    </h4>\r\n                    \r\n                </div>\r\n            )\r\n    }\r\n    }\r\n    return (\r\n            <Row className=\"justify-content-md-center py-5\">\r\n                <Col md={6}>\r\n                    <h1>Account Info:</h1>\r\n                    {userdata()}\r\n                </Col>\r\n                <a class=\"text-decoration-underline fs-1\">\r\n                    Logout\r\n                </a>\r\n            </Row>\r\n        )\r\n};\r\n\r\nexport default Account;","import React, {useEffect}from 'react';\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { QUERY_PRODUCT } from '../utils/queries';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { UPDATE_PRODUCT, UPDATE_AMOUNT } from '../utils/actions';\r\n\r\nconst Product = ({match}) =>{\r\n    const dispatch = useDispatch();\r\n    const state = useSelector( state => state)\r\n    const id = match.params._id\r\n    const { loading, data } = useQuery(QUERY_PRODUCT,{variables:{product: id}});\r\n    const {product, amount} = state\r\n    \r\n    useEffect(() => {\r\n        if(data){\r\n            dispatch({\r\n                type: UPDATE_PRODUCT,\r\n                product: data.product\r\n            })\r\n        }\r\n    },[data]);\r\n    \r\n    function increment() {\r\n        dispatch({\r\n            type: UPDATE_AMOUNT,\r\n            amount: amount+1\r\n        })\r\n        \r\n    };\r\n    function decrement() {\r\n        if(amount>0){\r\n            dispatch({\r\n                type: UPDATE_AMOUNT,\r\n                amount: amount-1\r\n            })\r\n        }\r\n    };\r\n    \r\n    return(\r\n        <div class=\"container my-auto\">\r\n            <div class=\"row m-4 justify-content-center\">\r\n                <img class=\"col-sm-10 h-100 col-lg-5 p-3 my-auto\" src={product.image} />\r\n                <div class=\"col justify-content-left\">\r\n                    <div class=\"title-text\">\r\n                        {product.name}\r\n                    </div>\r\n                    <div class=\"fs-2 description-text\">\r\n                        {product.description}\r\n                    </div>\r\n                    <div class=\"py-3 price-text\">\r\n                        ${product.price}\r\n                    </div>\r\n                    <div class=\"row px-3\">\r\n                        <div class=\"text-left\">\r\n                            <button class=\"btn btn-primary rounded-pill \">\r\n                                add to cart\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"row px-5\">\r\n                            <button class=\"btn btn-dark rounded-pill\" onClick={decrement}>\r\n                                <i class=\"bi bi-dash\"></i>\r\n                            </button>\r\n                            <p class=\"px-2 my-auto\">{amount}</p>\r\n                            <button class=\"btn btn-dark rounded-pill\"onClick={increment} >\r\n                                <i class=\"bi bi-plus\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>    \r\n    )\r\n};\r\n\r\nexport default Product;","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CartItem from \"../components/CartItem\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Cart = () => {\r\n\tconst state = useSelector((state) => state);\r\n\tconst { cart } = state;\r\n\r\n    const shippingCost = parseFloat(Object.keys(cart).length*12).toFixed(2)\r\n    const subTotal = () => {\r\n\t\tlet total = 0;\r\n\t\tcart.map((item) => {\r\n\t\t\ttotal += item.price * item.purchaseQuantity\r\n\t\t})\r\n        const subTotalNum = parseFloat(total.toFixed(2)) \r\n\t\treturn subTotalNum\r\n    }\r\n    const total = () => {\r\n        const totalNum = parseFloat(shippingCost) + parseFloat(subTotal())\r\n        return totalNum\r\n    }\r\n\treturn (\r\n\t\t<div class=\"container\">\r\n\t\t\t<h1>cart</h1>\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col-7 \">\r\n\t\t\t\t\t{cart.map((item) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<CartItem key={item.id} item={item} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-4 align-self-start border mx-auto m-3\">\r\n\t\t\t\t\t<h1 class=\"row p-2\">Summary</h1>\r\n                    <div class=\"row d-flex justify-content-between align-items-center p-3\">\r\n                        <h4>Subtotal:</h4>\r\n                        <h5 class=\"\">${subTotal()}</h5>\r\n                    </div> \r\n                    <div class=\"row d-flex justify-content-between align-items-center p-3\">\r\n                        <h4>Shipping:</h4>\r\n                        <h5 class=\"\">${shippingCost}</h5>\r\n                    </div>\r\n                    <p class=\"row px-3\">Estimate fixed-rate</p>\r\n                    <div class=\"row d-flex justify-content-between align-items-center p-3\">\r\n                        <h4>tax:</h4>\r\n                        <h5 class=\"\">{}</h5>\r\n                    </div>\r\n                    <br></br>\r\n                    <div class=\"row d-flex justify-content-between align-items-center px-3\">\r\n                        <h3>Total:</h3>\r\n                        <h5 class=\"\">${total()}</h5>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <Link to=\"/checkout\">\r\n                            <button class=\"btn btn-primary rounded-pill m-3 mx-auto\">\r\n                                Checkout\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                    \r\n\t\t\t\t</div>\r\n                \r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n\tPaymentElement,\r\n\tuseStripe,\r\n\tuseElements,\r\n} from \"@stripe/react-stripe-js\";\r\n\r\nexport default function CheckoutForm({total}) {\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [message, setMessage] = useState(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!stripe) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst clientSecret = new URLSearchParams(window.location.search).get(\r\n\t\t\t\"payment_intent_client_secret\"\r\n\t\t);\r\n\r\n\t\tif (!clientSecret) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tstripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\r\n\t\t\tswitch (paymentIntent.status) {\r\n\t\t\t\tcase \"succeeded\":\r\n\t\t\t\t\tsetMessage(\"Payment succeeded!\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"processing\":\r\n\t\t\t\t\tsetMessage(\"Your payment is processing.\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"requires_payment_method\":\r\n\t\t\t\t\tsetMessage(\r\n\t\t\t\t\t\t\"Your payment was not successful, please try again.\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsetMessage(\"Something went wrong.\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}, [stripe]);\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (!stripe || !elements) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tconst { error } = await stripe.confirmPayment({\r\n\t\t\telements,\r\n\t\t\tconfirmParams: {\r\n\t\t\t\t// Make sure to change this to your payment completion page\r\n\t\t\t\treturn_url: \"http://localhost:3000/checkout\",\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// This point will only be reached if there is an immediate error when\r\n\t\t// confirming the payment. Otherwise, your customer will be redirected to\r\n\t\t// your `return_url`. For some payment methods like iDEAL, your customer will\r\n\t\t// be redirected to an intermediate site first to authorize the payment, then\r\n\t\t// redirected to the `return_url`.\r\n\t\tif (error.type === \"card_error\" || error.type === \"validation_error\") {\r\n\t\t\tsetMessage(error.message);\r\n\t\t} else {\r\n\t\t\tsetMessage(\"An unexpected error occured.\");\r\n\t\t}\r\n\r\n\t\tsetIsLoading(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form id=\"payment-form\" onSubmit={handleSubmit}>\r\n\t\t\t<h1>Payment</h1>\r\n\t\t\t<PaymentElement id=\"payment-element\" />\r\n\t\t\t<button class=\"btn btn-primary rounded m-3\"disabled={isLoading || !stripe || !elements} id=\"submit\">\r\n\t\t\t\t<span id=\"button-text\">\r\n\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t<div className=\"spinner\" id=\"spinner\">\r\n\t\t\t\t\t\t\t<strong>Loading...</strong>\r\n\t\t\t\t\t\t\t<div class=\"spinner-border ms-auto\" role=\"status\" aria-hidden=\"true\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\"Pay now\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t</span>\r\n\t\t\t</button>\r\n\t\t\t<p>charge amount{total}</p>\r\n\t\t\t{message && <div id=\"payment-message\">{message}</div>}\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React from \"react\";\r\n\r\nconst Address = () => {\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div class=\"row mb-4\">\r\n\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t<div class=\"form-outline\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tid=\"form7Example1\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label class=\"form-label\" for=\"form7Example1\">\r\n\t\t\t\t\t\t\tFirst name\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t<div class=\"form-outline\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tid=\"form7Example2\"\r\n\t\t\t\t\t\t\tclass=\"form-control\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label class=\"form-label\" for=\"form7Example2\">\r\n\t\t\t\t\t\t\tLast name\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form-outline mb-4\">\r\n\t\t\t\t<input type=\"text\" id=\"form7Example3\" class=\"form-control\" />\r\n\t\t\t\t<label class=\"form-label\" for=\"form7Example3\">\r\n\t\t\t\t\tCompany name\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"form-outline mb-4\">\r\n\t\t\t\t<input type=\"text\" id=\"form7Example4\" class=\"form-control\" />\r\n\t\t\t\t<label class=\"form-label\" for=\"form7Example4\">\r\n\t\t\t\t\tAddress\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"input-group row mb-4\">\r\n\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t<select class=\"form-control\">\r\n\t\t\t\t\t\t<option selected>- Select -</option>\r\n\t\t\t\t\t\t<option value=\"APT\">APT - Apartment</option>\r\n\t\t\t\t\t\t<option value=\"BSMT\">BSMT - Basement</option>\r\n\t\t\t\t\t\t<option value=\"BLDG\">BLDG - Building</option>\r\n\t\t\t\t\t\t<option value=\"DEPT\">DEPT - Department</option>\r\n\t\t\t\t\t\t<option value=\"FL\">FL - Floor</option>\r\n\t\t\t\t\t\t<option value=\"FRNT\">FRNT - Front</option>\r\n\t\t\t\t\t\t<option value=\"HNGR\">HNGR - Hanger</option>\r\n\t\t\t\t\t\t<option value=\"KEY\">KEY - Key</option>\r\n\t\t\t\t\t\t<option value=\"LBBY\">LBBY - Lobby</option>\r\n\t\t\t\t\t\t<option value=\"LOT\">LOT - Lot</option>\r\n\t\t\t\t\t\t<option value=\"LOWR\">LOWR - Lower</option>\r\n\t\t\t\t\t\t<option value=\"OFC\">OFC - Office</option>\r\n\t\t\t\t\t\t<option value=\"OTHER\">Other</option>\r\n\t\t\t\t\t\t<option value=\"PH\">PH - Penthouse</option>\r\n\t\t\t\t\t\t<option value=\"PIER\">PIER - Pier</option>\r\n\t\t\t\t\t\t<option value=\"REAR\">REAR - Rear</option>\r\n\t\t\t\t\t\t<option value=\"RM\">RM - Room</option>\r\n\t\t\t\t\t\t<option value=\"SIDE\">SIDE - Side</option>\r\n\t\t\t\t\t\t<option value=\"SLIP\">SLIP - Slip</option>\r\n\t\t\t\t\t\t<option value=\"SPC\">SPC - Space</option>\r\n\t\t\t\t\t\t<option value=\"STOP\">STOP - Stop</option>\r\n\t\t\t\t\t\t<option value=\"STE\">STE - Suite</option>\r\n\t\t\t\t\t\t<option value=\"TRLR\">TRLR - Trailer</option>\r\n\t\t\t\t\t\t<option value=\"UNAVAILABLE\">Unable to determine</option>\r\n\t\t\t\t\t\t<option value=\"UNIT\">UNIT - Unit</option>\r\n\t\t\t\t\t\t<option value=\"UPPR\">UPPR - Upper</option>\r\n\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t<label class=\"form-label\" for=\"apt-suite-other\">\r\n\t\t\t\t\t\tUnit type\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n                <div class=\"col\">\r\n\t\t\t\t<input class=\"form-control\"></input>\r\n                <label class=\"form-label\" for=\"\">unit number</label>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\r\n\t\t\t<div class=\"form-outline mb-4 row\">\r\n\t\t\t\t<div class=\"col inline-block\">\r\n\t\t\t\t\t<input class=\"form-control\" type=\"text\" id=\"city\"></input>\r\n\t\t\t\t\t<label class=\"form-label\">City</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t<input class=\"form-control\" type=\"text\"></input>\r\n\t\t\t\t\t<label class=\"form-label\">state</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-outline mb-4\">\r\n\t\t\t\t<input type=\"email\" id=\"form7Example5\" class=\"form-control\" />\r\n\t\t\t\t<label class=\"form-label\" for=\"form7Example5\">\r\n\t\t\t\t\tEmail\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-outline mb-4\">\r\n\t\t\t\t<input type=\"number\" id=\"form7Example6\" class=\"form-control\" />\r\n\t\t\t\t<label class=\"form-label\" for=\"form7Example6\">\r\n\t\t\t\t\tPhone\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Address;\r\n","import React, { useState } from \"react\";\r\nimport Address from \"../Address\";\r\n\r\nconst ShippingForm = () => {\r\n\treturn (\r\n\t\t<div>\r\n            <h1>Shipping Address</h1>\r\n\t\t\t<Address type=\"shipping\"/>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default ShippingForm;\r\n","import React, { useState, useEffect, Component } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { Elements } from \"@stripe/react-stripe-js\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CheckoutForm from \"../components/CheckoutForm\";\r\nimport ShippingForm from \"../components/ShippingForm\";\r\nimport Auth from \"../utils/auth\";\r\n\r\nconst stripePromise = loadStripe(\r\n\t\"pk_test_51KYfOOHOMpPyIznJJw8smgIiP7aaOygzJAcRCiNvZYzZq0lz5NJumR9QnhS1xZCSf1KcPAUYKZHo2tU2NmlLTJvO00kR88grXB\"\r\n);\r\n\r\nexport default function Checkout() {\r\n\tconst [clientSecret, setClientSecret] = useState(\"\");\r\n\tconst [total, setTotal] = useState(0);\r\n\tconst [stage, setStage] = useState(1);\r\n\tconst state = useSelector((state) => state);\r\n\tconst { cart } = state;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst shippingCost = parseFloat(Object.keys(cart).length * 12);\r\n\t\tconst subTotal = () => {\r\n\t\t\tlet sum = 0;\r\n\t\t\tcart.map((item) => {\r\n\t\t\t\tsum += item.price * item.purchaseQuantity;\r\n\t\t\t});\r\n\t\t\tconst subTotalNum = parseFloat(sum).toFixed(2);\r\n\t\t\treturn subTotalNum;\r\n\t\t};\r\n\t\tsetTotal(parseFloat(shippingCost) + parseFloat(subTotal()));\r\n\t\tconsole.log(\"total\", total)\r\n\t\tfetch(\"/create-payment-intent\", {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\tbody: JSON.stringify({ total: parseInt((total*100).toFixed(2)) }),\r\n\t\t})\r\n\t\t.then((res) => res.json())\r\n\t\t.then((data) => setClientSecret(data.clientSecret));\r\n\t}, [total]);\r\n\t\r\n\tconst appearance = {\r\n\t\ttheme: \"stripe\",\r\n\t};\r\n\tconst options = {\r\n\t\tclientSecret,\r\n\t\tappearance,\r\n\t};\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tsetStage((stage) => stage + 1);\r\n\t};\r\n\tconst stagePosition = () => {\r\n\t\tif (stage === 1) {\r\n\t\t\tif (Auth.loggedIn) {\r\n\t\t\t\tsetStage((stage) => stage + 1);\r\n\t\t\t\tconsole.log(stage);\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<div class=\"col text-center\">\r\n\t\t\t\t\t<h1>Not logged in</h1>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button class=\"btn btn-primary m-2\">\r\n\t\t\t\t\t\t\tContinue as geust\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<p>or</p>\r\n\t\t\t\t\t\t<button class=\"btn btn-primary m-2\">Login</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (stage === 2) {\r\n\t\t\treturn (\r\n\t\t\t\t<div class=\"col-6 m-3\">\r\n\t\t\t\t\t<ShippingForm />\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"btn btn-primary rounded\"\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (stage === 3) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"App col-5 mx-auto\">\r\n\t\t\t\t\t\t{clientSecret && (\r\n\t\t\t\t\t\t\t<Elements options={options} stripe={stripePromise}>\r\n\t\t\t\t\t\t\t\t<CheckoutForm total={total} />\r\n\t\t\t\t\t\t\t</Elements>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\treturn <div>{stagePosition()}</div>;\r\n}\r\n","import {useReducer} from \"react\";\r\nimport { UPDATE_PRODUCTS, UPDATE_PRODUCT, UPDATE_AMOUNT, ADD_TO_CART, UPDATE_CART, TOGGLE_CART } from \"./actions\";\r\n\r\nconst initialState = {\r\n    products:[],\r\n    product:[],\r\n    amount:0,\r\n    cart:[],\r\n    cartOpen:false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type){\r\n        case UPDATE_PRODUCTS:\r\n            return{\r\n                ...state,\r\n                products:[...action.products],\r\n            }\r\n        case UPDATE_PRODUCT:\r\n            return{\r\n                ...state,\r\n                product: action.product\r\n            }\r\n        case UPDATE_AMOUNT: \r\n            return {\r\n                ...state,\r\n                amount: action.amount,\r\n            }\r\n        case ADD_TO_CART:\r\n            return{\r\n                ...state,\r\n                cart: [...state.cart, action.product] \r\n            }\r\n        case UPDATE_CART:\r\n            return{\r\n                ...state,\r\n                cart: state.cart.map((product) => {\r\n                    if (action._id === product._id){\r\n                        product.purchaseQuantity = action.purchaseQuantity; \r\n                    }\r\n                    return product; \r\n                })\r\n            }\r\n        case TOGGLE_CART:\r\n            return{\r\n                ...state,\r\n                cartOpen: !state.cartOpen,\r\n            }\r\n    default:\r\n        return state;\r\n    }\r\n};\r\n\r\nexport function useProductReducer(initialState) {\r\n    return useReducer(reducer, initialState);\r\n}\r\nexport default reducer;","import { createStore } from \"redux\"\r\nimport reducers from \"./reducers\";\r\n\r\nexport default createStore(reducers)","import React, { createContext, useContext } from \"react\";\r\nimport { useProductReducer } from './reducers'\r\nimport store from \"./store\"\r\nimport { Provider } from \"react-redux\";\r\n\r\nconst StoreContext = createContext();\r\n\r\n\r\nconst StoreProvider = ({ value = [], ...props }) => {\r\n    const [state, dispatch] = useProductReducer({\r\n        products: [],\r\n    });\r\n\r\n    return <Provider store ={store} value={[state, dispatch]} {...props} />;\r\n};\r\n\r\nconst useStoreContext = () => {\r\n    return useContext(StoreContext);\r\n};\r\n\r\nexport { StoreProvider, useStoreContext };","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport Nav from \"./components/Nav\"\r\nimport Home from \"./pages/Home.js\"\r\nimport Login from \"./pages/Login.js\"\r\nimport Signup from \"./pages/Signup.js\"\r\nimport Footer from \"./components/Footer\"\r\nimport Account from \"./pages/Account\"\r\nimport Product from \"./pages/Product\"\r\nimport Cart from \"./pages/Cart\";\r\nimport Checkout from \"./pages/Checkout\"\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from '@apollo/client';\r\nimport { setContext } from '@apollo/client/link/context';\r\nimport { StoreProvider } from \"./utils/Globalstate\"\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: '/graphql/',\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem('id_token');\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <StoreProvider>\r\n          <Nav/>\r\n            <Switch>\r\n              <Route exact path='/' component={Home} />\r\n              <Route exact path=\"/login\" component={Login}/>\r\n              <Route exact path='/signup' component={Signup}/>\r\n              <Route exact path='/account' component={Account}/>\r\n              <Route exact path='/item/:_id' component={Product}/>\r\n              <Route exact path=\"/cart\" component={Cart} />\r\n              <Route exact path=\"/checkout\" component={Checkout}/>\r\n            </Switch>\r\n          <Footer/>\r\n        </StoreProvider>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === \"localhost\" ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === \"[::1]\" ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"load\", () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\r\n\t\t\t\t\t\t\t\"worker. To learn more, visit https://bit.ly/CRA-PWA\"\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\r\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { \"Service-Worker\": \"script\" },\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get(\"content-type\");\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null &&\r\n\t\t\t\t\tcontentType.indexOf(\"javascript\") === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then((registration) => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nserviceWorker.register();\r\n"],"sourceRoot":""}